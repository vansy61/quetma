function formatPrice(t,e){return t>=1e8?formatCash(t):(e&&0!=e.length||(e="VND"),new Intl.NumberFormat("de-DE",{style:"currency",currency:e}).format(t))}function truncateString(t,e){return t.length>e?t.slice(0,e)+"...":t}function truncateOnWord(t,e){var a=new RegExp("(?=["+"\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u2028\u2029\u3000\ufeff"+"])"),n=t.split(a),i=0;return n.filter(function(t){return(i+=t.length)<=e}).join("")}function processRating(t,e){t.removeClass("d-none");var a=parseInt(e);a!=e?t.eq(a).removeClass().addClass("fas fa-star-half-alt").prevAll().removeClass().addClass("fas fa-star"):(a&&(a-=1),t.eq(a).removeClass().addClass("fas fa-star").prevAll().removeClass().addClass("fas fa-star"))}function processAppendText(t,e,a){if(t.length)for(;;){if(!(t.parent().clone().children().remove().end().text().replace(/\s/g,"").length>0||t.is("br"))){t.text(e).addClass(a);break}t=t.parent()}}function reloadCartNow(t){$(".cart-wrap").length?$.ajax({url:"/orders/populate",method:"POST",dataType:"json",success:function(e){$(".cart-wrap .cart-value").text(formatPrice(e.total)),$(".cart-wrap .cart-quantity").text(e.quantity),$(".cart-wrap .cart-list ul").html(""),$.each(e.item,function(t,e){var a=cartCloneNow.clone();a.find(".w-name-pr").text(e.title+" ("+e.option_value+")"),a.find(".item-img img").attr("src",e.image).attr("data-src",e.image),a.find(".w-quantity-pr").text(formatPrice(e.price)+" x "+e.quantity),$(".cart-wrap .cart-list ul").append(a)}),t&&($(".cart-wrap .cart-list").addClass("active"),$("body").addClass("w-show-menu-mobile")),$(".loadding-add-cart").removeClass("loadding-add-cart")},error:function(){toastr.clear(),toastr.error("C\xf3 l\u1ed7i x\u1ea3y ra vui l\xf2ng th\u1eed l\u1ea1i sau!",":(",{timeOut:5e3,progressBar:!0}),$(".loadding-add-cart").removeClass("loadding-add-cart")}}):$(".loadding-add-cart").removeClass("loadding-add-cart")}function trackDataFilter(t){let e,a=t.closest("section"),n=["-1"];a.find(".listing-category .active").length?n=[a.find(".listing-category .active").attr("data-id")]:a.find(".listing-category .input-category-multiple-selection:checked").length?n=a.find(".listing-category .input-category-multiple-selection:checked").map(function(){return this.value}).get():"undefined"!=typeof taxon_id?n=[taxon_id]:a.find(".listing-category").length&&"undefined"!=typeof params_search_data&&(n=params_search_data.limit_taxon),"undefined"!=typeof params_search_data&&(e=params_search_data.filter_taxon);let i=[];a.find(".filter-option-type:checked").each(function(){i.push($(this).attr("data-name"))});let o=a.find(".start-price").val();console.log(isNaN(o)),(isNaN(o)||0==o.length)&&(o=0);let r=a.find(".end-price").val();return(isNaN(r)||0==r.length)&&(r=9999999999999),o>r&&([o,r]=[r,o]),{limit_price:`${o}-${r}`,limit_taxon:n,order_result:a.find(".w-filter-order-by").val(),per_page:"-1",option_value:i,q:{translations_name_cont:""},filter_taxon:e}}function loadProduct(t,e,a,n=undefined){closeFilterAdvanced(),block_filter=t;var i=block_filter.attr("data-option").split("/");6===i.length&&i.push(!1);var o=block_filter.attr("data-quantity"),r=block_filter.attr("data-column"),s=block_filter.attr("data-taxon").split(","),l=block_filter.attr("data-order"),c=block_filter.attr("data-column-mobile"),d=block_filter.find(".group-tag-filter-sort"),u=block_filter.find(".group-list-filter-sort"),m=block_filter.find(".group-tag-filter-sort >button").eq(0).clone().removeAttr("data-filter"),p=block_filter.find(".group-list-filter-sort >div").eq(0).clone(),f=!1,h="false",g="false";e||block_filter.find(".group-list-filter-sort .card").addClass("webmely-animation-loadding-on"),"undefined"==typeof taxon_id||"flex"!=i[0]&&"flex-not"!=i[0]||(s=taxon_id.split(","),"flex"==i[0]&&(g="true")),"undefined"==typeof is_taxon_page&&(is_taxon_page="false"),"flex-not"==i[0]&&(h="true"),"undefined"!=typeof params_search_data&&null!=params_search_data&&(showCurrentParams(),"undefined"!=typeof params_search_data.q&&(f=params_search_data)),block_filter.hasClass("with-filter")&&(f=trackDataFilter(block_filter)),$.ajax({type:"GET",url:"/products/get_list_product",dataType:"json",data:{quantity:o,taxon:s,order:l,not_in_taxon:h,page:a,data_show:i[1],params_search:f,reload_taxon_id:n,get_match_all_taxon:g,is_taxon_page:is_taxon_page},success:function(o){let s=$(t);if(n&&(s=u),0==o.list_product_return.length)return s.after('<div class="text-center py-3 not-found-product">Kh\xf4ng t\xecm th\u1ea5y s\u1ea3n ph\u1ea9m n\xe0o!</div>'),s.addClass("d-none"),!1;if(block_filter.find(".not-found-product").remove(),s.removeClass("d-none"),e||(n||d.html(""),u.html("")),$.each(o.list_product_return,function(t,e){var a=p.clone();a.find(".is-inviewport").removeClass("is-inviewport"),a.attr("data-slug",e.slug).attr("data-des",e.description).attr("data-name",e.title),"true"==i[6]&&(e.image=e.image.replace("/product/","/original/")),a.find(".webmely-image-product").attr("data-src",e.image),a.find(".webmely-title-product").text(e.title),a.find(".webmely-link-product").attr("href",e.slug).attr("data-price",e.price).attr("data-variant-id",e.id).attr("data-variant-add-cart-id",e.default_add_cart_id).attr("data-name",e.title),a.find(".webmely-price-before-product").text(formatPrice(e.price_before_sale)),0==e.price_before_sale||a.find(".webmely-price-before-product").hasClass("d-none")?a.find(".webmely-price-before-product").addClass("d-none"):a.find(".webmely-price-before-product").removeClass("d-none"),price_product=null==e.price_range?0==e.price&&"0"!==display_price_equal_zero?display_price_equal_zero:formatPrice(e.price):e.price_range,a.find(".webmely-price-product").text(price_product),0==e.rating?a.find(".webmely-rating-product i").addClass("d-none"):processRating(a.find(".webmely-rating-product i"),e.rating),e.total_on_hand<=0&&0==e.preorder&&a.find(".pre-order").addClass("invisibleOrder"),u.append(a);let n=a.find(".webmely-image-product");a.isInViewport()?n.attr("src",n.attr("data-src")):obElement.observe(n.get(0))}),"cart"==i[1]){if("load"==i[2])o.next_page?t.find(".load-more-product-ls").attr("data-next",o.next_page).prop("disabled",!1).removeClass("d-none").find(".real-text-button").text("Xem Th\xeam"):t.find(".load-more-product-ls").addClass("d-none");else if("pagination"==i[2])if(1!=o.total_page){var l=t.find(".pagi-more-product-ls"),f=l.find(".page-item").eq(0).clone();l.html("");var h,g='<li class="pre-page" style="pointer-events: all;"><a class="page-link" href="#"><i class="fa fa-chevron-left"></i></a></li>';for(1==a?l.append($(g).addClass("d-none")):l.append($(g)),h=1;h<=o.total_page;h++)if(h<parseInt(a)+3&&h>parseInt(a)-3){var w=f.clone().removeClass("active").css("pointer-events","all");w.attr("data-page",h).find("a").text(h),h==parseInt(a)&&w.addClass("active").css("pointer-events","none"),l.append(w)}var v='<li id="next-page" class="next-page" style="pointer-events: all;"><a class="page-link" href="#"><i class="fa fa-chevron-right"></i></a></li>';a==o.total_page?l.append($(v).addClass("d-none")):l.append($(v))}else t.find(".pagi-more-product-ls").remove();$(".webmely-animation-loadding-on").removeClass("webmely-animation-loadding-on")}else if("filter"==i[1])if(n)$(".webmely-animation-loadding-on").removeClass("webmely-animation-loadding-on");else{var y=m.clone();y.attr("data-filter","all"),y.text("T\u1ea5t c\u1ea3"),d.append(y),$.each(o.list_taxon_return,function(t,e){var a=m.clone();a.attr("data-filter",e.id),a.text(e.name),d.append(a)}),createFilterProduct(block_filter)}else createSlick(r,u,!0,c)},error:function(){toastr.clear(),toastr.error("C\xf3 l\u1ed7i x\u1ea3y ra vui l\xf2ng th\u1eed l\u1ea1i sau!",":(",{timeOut:5e3,progressBar:!0})}})}function createFilterProduct(t){t.find(".group-tag-filter-sort >button").on("click",function(){let t=$(this).attr("data-filter"),e=$(this).closest(".block-filter");console.log(t),e.find(".group-list-filter-sort").addClass("webmely-animation-loadding-on"),loadProduct(e,!1,1,t)}),$(".webmely-animation-loadding-on").removeClass("webmely-animation-loadding-on")}function initFilterAdvancedW(t){$(t).find(".listing-category").length>0&&initFilterListTaxon(t),$(t).find(".option-type-group").length>0&&initFilterListOptionType(t),bindChangeFilter($(t))}function initFilterListOptionType(t){let e=$("#store_id").val();$.ajax({url:"/api/option_types",data:{store_ids:[e]},success:function(e){processViewOptionType(e,t)}})}async function initFilterListTaxon(t){let e=[],a=[];if("undefined"!=typeof taxon_id)e.push(taxon_id);else{e=(await getParentTaxonsByStore()).root.taxons.map(t=>t.id)}await Promise.all(e.map(async t=>{const e=await getDataTaxon(t);a.push(e)})),processViewListTaxon(a,t)}function processViewOptionType(t,e){const a=$(e).find(".option-type-group");a.html(""),t.forEach(t=>{a.append(viewFilterOptionTypeItem(t))}),a.removeClass("webmely-animation-loadding-on")}function viewFilterOptionTypeItem(t){return`\n\t\t<div class="option-type-item mb-2">\n\t\t\t<div class="option-type-title mb-1">\n\t\t\t\t${t.name}\n\t\t\t</div>\n\t\t\t<div class="option-type-value">\n\n\t\t\t\t${t.option_values.map(t=>viewFilterOptionTypeValue(t)).join("")}\n\t\t\t</div>\n\t\t</div>\n\t`}function viewFilterOptionTypeValue(t){return`\n\t\t<div class="custom-control custom-checkbox">\n\t\t\t<input type="checkbox" class="custom-control-input filter-option-type" id="option-value-${t.id}" data-name="${t.name}">\n\t\t\t<label class="custom-control-label" for="option-value-${t.id}">${t.name}</label>\n\t\t</div>\n\t`}function getSelectedTaxonIds(){return"undefined"!=typeof params_search_data&&null!=params_search_data&&"undefined"!=typeof params_search_data.limit_taxon&&"-1"!=params_search_data.limit_taxon[0]&&"all"!=params_search_data.limit_taxon[0]&&params_search_data.limit_taxon}function processViewListTaxon(t,e){const a=$(e).find(".listing-category ul"),n=$(e).find(".listing-category").hasClass("allow-multiple-selection"),i=$(e).find(".listing-category").attr("data-id");a.html("");let o=getSelectedTaxonIds();t.forEach(t=>{i!=undefined&&i!=t.id||(a.append(viewFilterTaxonItem(t,!0,!1,o)),t.taxons.forEach(t=>{a.append(viewFilterTaxonItem(t,!1,n))}))}),"undefined"!=typeof taxon_id&&a.find("li:first-child").addClass("active"),$(e).find(".listing-category").removeClass("webmely-animation-loadding-category")}function bindChangeFilter(t){t.on("click","li",function(){t.find("li").removeClass("active"),$(this).addClass("active"),$(".input-category-multiple-selection").prop("checked",!1),loadProduct(t.closest("section").find(".block-filter"),!1,1)}),t.on("change",".input-category-multiple-selection",function(){$(".listing-category .active").removeClass("active"),loadProduct(t.closest("section").find(".block-filter"),!1,1)}),t.on("change",".filter-option-type",function(){loadProduct(t.closest("section").find(".block-filter"),!1,1)}),t.find(".apply-price-range").click(function(e){e.preventDefault(),loadProduct(t.closest("section").find(".block-filter"),!1,1)}),t.closest("section").find(".w-filter-order-by").change(function(){loadProduct(t.closest("section").find(".block-filter"),!1,1)})}function viewFilterTaxonItem(t,e=!1,a=!1,n){return console.log(n),1==a?`\n\t\t\t<div class="custom-control custom-checkbox">\n\t\t\t\t<input type="checkbox" class="custom-control-input input-category-multiple-selection" id="filter-taxon-${t.id}" value="${t.id}">\n\t\t\t\t<label class="custom-control-label" for="filter-taxon-${t.id}">${t.name}</label>\n\t\t\t</div>\n\t\t`:!1===n?`\n\t\t<li class="${e?"main-category":""}" data-id="${t.id}"> ${t.name}</li>\n\t`:`\n\t\t<li class="${e?"main-category":""} ${n.includes(String(t.id))?"active":""}" data-id="${t.id}"> ${t.name}</li>\n\t`}function getDataTaxon(t){return $.ajax({url:`/api/taxonomies/${store_default_taxonomy_id}/taxons/${t}`,type:"GET",dataType:"json"})}function getParentTaxonsByStore(){return $.ajax({url:`/api/taxonomies/${store_default_taxonomy_id}`,type:"GET",dataType:"json"})}function closeFilterAdvanced(){$(window).width()<992&&$(".w-filter-advanced").removeClass("active")}function showCurrentParams(){params_search_data.q!=undefined&&($(".w-search-name input").val(params_search_data.q.translations_name_cont),params_search_data.limit_price!==undefined?$(".w-search-price select").val(params_search_data.limit_price):params_search_data.limit_price=$(".w-search-price select").val(),params_search_data.per_page!==undefined?$(".w-search-limit select").val(params_search_data.per_page):params_search_data.per_page=$(".w-search-limit select").val(),params_search_data.order_result!==undefined?$(".w-search-order select").val(params_search_data.order_result):params_search_data.order_result=$(".w-search-order select").val(),params_search_data.filter_taxon!==undefined?$("#filter-taxon").val(params_search_data.filter_taxon):params_search_data.filter_taxon=$("#filter-taxon").val(),params_search_data.limit_taxon!=undefined?$(".w-search-taxon select").val(params_search_data.limit_taxon[0]):params_search_data.limit_taxon=[$(".w-search-taxon select").val()])}function showCurrentParamsBlog(){$(".editFormSearchBlog .w-search-name input").val(params_search_data.q.title_cont),$(".editFormSearchBlog .w-search-taxon select").val(params_search_data.q.taxons_id_in[0])}function processBlog(e,a,n){var i,o=e.attr("data-option").split("/"),r=e.attr("data-quantity"),s=e.attr("data-column"),l=e.attr("data-order"),c=e.attr("data-taxon"),d=e.find(".webmely-list-blog >div").eq(0).clone(),u=e.attr("data-column-mobile"),m=e.hasClass("special-style"),p=e.attr("data-tags"),f="false";"undefined"!=typeof taxon_ids&&"current_taxon"==c&&taxon_ids.length>0?f=c:taxon_ids=[],"undefined"!=typeof params_search_data&&null!=params_search_data&&"undefined"!=typeof params_search_data.q&&(showCurrentParamsBlog(),i=params_search_data.q),p=p!=undefined&&p.length>0?p.split("=="):"undefined"!=typeof tag_ids?tag_ids:[],$.ajax({type:"GET",url:"/blog_entries/get_list_blog",dataType:"json",data:{quantity:r,order:l,page:a,filter_tag:p,data_search:i,filter_taxon:f,taxon_ids:taxon_ids},success:function(i){if(1!=n||m||e.find(".webmely-list-blog").html(""),$.each(i.blog,function(a,n){if(m)i=e.find("a.card").eq(a);else var i=d.clone();let o=m&&0!=a?100:200;i.find(".webmely-title-blog").text(n.title);let r=n.date.split(" ")[0].split("/"),s=r[0],l=r[1],c=r[2];i.find(".webmely-date-blog").hasClass("simple-time")?(i.find(".webmely-date-blog div:first-child").text(s),i.find(".webmely-date-blog div:last-child").text("THG "+l+", "+c)):i.find(".webmely-date-blog").hasClass("simple-time-2")?(i.find(".webmely-date-blog div:first-child").text(s+"/"+l),i.find(".webmely-date-blog div:last-child").text(c)):i.find(".webmely-date-blog").hasClass("simple-time-3")?(i.find(".webmely-date-blog div:first-child").text(l),i.find(".webmely-date-blog div:last-child").text(c)):i.find(".webmely-date-blog small").text(n.date),i.find(".webmely-view-blog small").text(t.viewed+": "+n.view),i.find(".webmely-summary-blog").text(truncateOnWord($("<div>"+n.summary+"</div>").text(),o)+" ..."),m?i.attr("href",n.slug):i.find("a").attr("href",n.slug),i.find(".webmely-avatar-blog").css("background-image","url("+n.image+")"),m||e.find(".webmely-list-blog").append(i)}),"cart"==o[0]){if("load"==o[1])i.next_page?e.find(".load-more-blog-ls").attr("data-next",i.next_page).prop("disabled",!1).find(".real-text-button").text("Xem Th\xeam"):e.find(".load-more-blog-ls").remove();else if("pagination"==o[1])if(1!=i.total_page){var r=e.find(".pagi-more-blog-ls"),l=r.find(".page-item").eq(0).clone();r.html("");var c,p='<li class="pre-page" style="pointer-events: all;"><a class="page-link" href="#"><i class="fa fa-chevron-left"></i></a></li>';for(1==a?r.append($(p).addClass("d-none")):r.append($(p)),c=1;c<=i.total_page;c++)if(c<parseInt(a)+3&&c>parseInt(a)-3){var f=l.clone().removeClass("active").css("pointer-events","all");f.attr("data-page",c).find("a").text(c),c==parseInt(a)&&f.addClass("active").css("pointer-events","none"),r.append(f)}var h='<li id="next-page" class="next-page" style="pointer-events: all;"><a class="page-link" href="#"><i class="fa fa-chevron-right"></i></a></li>';a==i.total_page?r.append($(h).addClass("d-none")):r.append($(h))}else e.find(".pagi-more-blog-ls").remove();e.find(".webmely-animation-loadding-in").removeClass("webmely-animation-loadding-in")}else createSlick(s,e.find(".webmely-list-blog"),!0,u)},error:function(){}})}function createSlick(t,e,a,n){if("function"==typeof $.fn.slick){switch(t){case"4":e.slick({infinite:!0,slidesToShow:4,dot:!0,slidesToScroll:4,responsive:[{breakpoint:992,settings:{slidesToShow:parseInt(n),slidesToScroll:parseInt(n)}}]});break;case"3":e.slick({infinite:!0,slidesToShow:3,dot:!0,slidesToScroll:3,responsive:[{breakpoint:992,settings:{slidesToShow:parseInt(n),slidesToScroll:parseInt(n)}}]});break;case"1":e.slick({infinite:!0,slidesToShow:1,slidesToScroll:1});break;case"with_thumbnail":e.slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!1,dots:!0,speed:100,customPaging:function(t,e){return'<a><img src="'+$(t.$slides[e]).find("img").attr("src")+'"></a>'}});break;case"no_thumbnail":e.slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!1,dots:!1,speed:100});break;default:e.slick({infinite:!0,dot:!0,slidesToShow:2,slidesToScroll:2,responsive:[{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:2}}]})}e.closest(".blog-block--flex").find(".webmely-animation-loadding-in").removeClass("webmely-animation-loadding-in"),$(".webmely-animation-loadding-on").removeClass("webmely-animation-loadding-on")}else{if(a&&status_get_slick){var i=document.createElement("script");i.type="text/javascript",i.src="/resource-builder/javascripts/slick.js",$("body").append(i),status_get_slick=!1}timeoutLoadSlick=setTimeout(function(){createSlick(t,e,!1,n)},200)}}function processReview(t,e){var a="all";"undefined"!=typeof product_page?1==product_page&&(a="product"):"undefined"!=typeof taxon_id?(a="taxon",productObject={id:taxon_id}):productObject={};var n=$(".editReview"),i=n.attr("data-per"),o=n.attr("data-order"),r=n.attr("data-filter-by"),s=n.attr("data-filter-value"),l=n.closest(".webmely-super-review").attr("data-column-mobile"),c={per:i,order:o,filter_by:r,filter_value:s,source:a};t=t||1,$.ajax({type:"GET",url:"/reviews/get_review_of_product",dataType:"json",data:{id:productObject.id,options:c,page:t},success:function(t){var a=$(".wsp-wrapper-item-review");if($(".webmely-new-review-products").attr("action",t.link_review),e&&(a.find(".colmun-group").length?a.find(".colmun-group").html(""):a.html(""),t.allow_wrire_review?($(".wsp-show-only-login").removeClass("d-none"),$(".wsp-review-button").attr("id","wsp-scroll-reviews")):($(".wsp-show-only-login").addClass("d-none"),$(".wsp-review-button").removeAttr("id").attr("href","/login").text("\u0110\u0103ng nh\u1eadp \u0111\u1ec3 \u0111\xe1nh gi\xe1!"))),t.next_page?$(".wsp-load-more-review").removeClass("d-none").attr("data-next",t.next_page):$(".wsp-load-more-review").addClass("d-none").removeAttr("data-next"),0==t.result.length)return $(".wsp-wrapper-item-review").addClass("d-none"),$(".webmely-animation-loadding").removeClass("webmely-animation-loadding"),!1;$(".wsp-not-review-noti").addClass("d-none"),$.each(t.result,function(t,e){var n=elReviewItem.clone();processRating(n.find(".wsp-review-item-rating i"),e.rating),processAppendText(n.find(".wsp-review-item-author *:not(:has(*))").eq(0),e.name),null!=e.user_id&&"/avatars/medium/missing.png"!=e.user.avatar_url?n.find(".review-user-info img").attr("src",e.user.avatar_url).attr("data-src",e.user.avatar_url).attr("onerror","changeErrorImage(event)"):n.find(".review-user-info img").attr("src","/images/image_demo/demo.png").attr("data-src","/images/image_demo/demo.png"),n.find(".wsp-review-item-image img").length>1?(n.find(".wsp-review-item-image").html(""),$.each(e.images,function(t,e){n.find(".wsp-review-item-image").append('<img src="'+e.attachment_url+'">')})):e.images.length>0?(console.log(e.images[0].attachment_original_url),n.find(".wsp-review-item-image").html(""),n.find(".wsp-review-item-image").append('<img class="img-fluid" src="'+e.images[0].attachment_original_url+'">')):n.find(".wsp-review-item-image").html(""),processAppendText(n.find(".wsp-review-item-time *:not(:has(*))").eq(0),e.created_at),processAppendText(n.find(".wsp-review-item-title *:not(:has(*))").eq(0),e.title),processAppendText(n.find(".wsp-review-item-content *:not(:has(*))").eq(0),e.review),a.find(".colmun-group").length?a.find(".colmun-group").eq(indexOfLastItemReview).append(n):a.append(n),(indexOfLastItemReview+=1)>3&&(indexOfLastItemReview=0)});var i=n.closest(".webmely-super-review").attr("data-column");n.closest(".webmely-super-review").attr("data-option").includes("slider")&&createSlick(i,n,!0,l),$(".webmely-animation-loadding").removeClass("webmely-animation-loadding"),$(".loadding-add-cart").removeClass("loadding-add-cart")},error:function(){toastr.clear(),toastr.error("C\xf3 l\u1ed7i x\u1ea3y ra vui l\xf2ng th\u1eed l\u1ea1i sau!",":(",{timeOut:5e3,progressBar:!0})}})}function lazyImg(t){t.closest(".carousel-inner").length?t.closest(".carousel-inner").find("img").each(function(){$(this).attr("src",$(this).attr("data-src")).addClass("is-inviewport")}):t.attr("src",t.attr("data-src")).addClass("is-inviewport")}function headerTableOfContents(){return'\n\t\t<div class="d-flex align-items-center justify-content-between p-3">\n\t\t\t<h4 class="mb-0">\n\t\t\t\tM\u1ee5c l\u1ee5c\n\t\t\t</h4>\n\t\t\t<i class="fas fa-chevron-down btn-collapse-table-of-contents" data-toggle="collapse" data-target="#collapse-table-of-contents" aria-expanded="true"></i>\n\t\t</div>\n\t'}function removeFirstNumber(t){let e=t.split(" ");return isNaN(parseInt(e[0]))||e.shift(),e.join(" ")}function processBlogogTableOfContents(t){$(".w-dynamic-description").prepend('<nav id="table-of-contents"><div><ol class="collapse show pl-3" id="collapse-table-of-contents"></ol></div></nav>'),$("#table-of-contents").prepend(headerTableOfContents());let e=$("#table-of-contents ol");t.forEach(t=>{let a=`<li class="${t[2]}"><a href="#${t[1]}">${removeFirstNumber(t[0])}</a></li>`;"main"==t[2]?e.append(a):(0==e.find(">li:last-child ol").length&&e.find(">li:last-child").append("<ol></ol>"),e.find(">li:last-child ol").append(a))})}function dynamicDescription(){"undefined"!=typeof allow_dynamic_block?("undefined"!=typeof productObject?$(".w-dynamic-description").html(productObject.description):"undefined"!=typeof blogObject?($(".w-dynamic-description").html("<div>"+blogObject.body+"</div>"),processBlogogTableOfContents(blogObject.table_of_contents)):$(".w-dynamic-description").html(taxonObject.description),$(".w-dynamic-description").removeClass("webmely-animation-loadding-in")):$(".w-dynamic-description").remove()}function dynamicTitle(){if("undefined"!=typeof allow_dynamic_block){var t=$(".w-dynamic-title *:not(:has(*))").eq(0);"undefined"!=typeof product_page?processAppendText(t,productObject.name):"undefined"!=typeof blogObject?processAppendText(t,blogObject.title):processAppendText(t,taxonObject.name),$(".w-dynamic-title").removeClass("webmely-animation-loadding-in")}else $(".w-dynamic-title").remove()}function changeErrorImage(t){$(t.target).attr("src","/images/image_demo/demo.png").attr("data-src","/images/image_demo/demo.png")}function webmelySimpleSlide(t,e=!1){let a="slide-in",n="slide-out",i=t.find(".slide-wrapper .slide-item.active"),o=t.find(".slide-wrapper .slide-item");0===i.length&&(i=o.eq(0)).addClass("active");let r=[];if(-1===e?(r=i.prev(),e=o.length-1):e||(r=i.next(),e=0),0===r.length&&(r=o.eq(e)),r.index()<i.index()&&i.index()!==o.length-1&&(a="slide-in-revert",n="slide-out-revert"),i.get(0)===r.get(0))return!1;let s=t.find(".slide-control-next, .slide-control-prev");i.one("animationend",function(){i.removeClass(n).removeClass("active"),s.removeClass("inactive")}),r.one("animationend",function(){r.removeClass(a)}),s.addClass("inactive"),i.addClass(n),r.addClass(a).addClass("active")}function trachSubmitForm(t){var e=t.attr("action");e.length>0&&$.ajax({type:"POST",url:"/tracking_lead_static_page",dataType:"json",data:{url:window.location.pathname,store:window.location.hostname,state:"submit_form",target:e,authenticity_token:$("meta[name='csrf-token']").attr("content")}})}function format_keyword(t){return'<li class="p-2 search-action"  data-keyword="'+t.keyword+'">'+t.keyword+"</li>"}function format_taxon(t){return'<li class="p-2 search-action"  data-keyword="'+t.name+'">'+t.name+"</li>"}function parseUrltoJson(t){return json=JSON.parse('{"'+t.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(t,e){return""===t?e:decodeURIComponent(e)})}function valiPhone(t){var e=/^[0-9]{10}$/;return null!=t.replace(/ /g,"").match(e)}function valiEmail(t){return/^[a-zA-Z0-9][a-zA-Z0-9_\.]{0,}@[a-z0-9]{2,}(\.[a-z0-9]{2,4}){1,2}$/g.test(t)}async function handleLogin(){try{let e=await checkLogin();if(location.href.includes("webmely.com/checkout/address"))return void $("#form-created-user").closest("form").submit();showUserLogged(e.email,e.plan)}catch(t){}}function templateIconPremium(){return'\n\t\t<img src="/images/webmely/premium.svg" class="icon-premium-user">\n\t'}function showUserLogged(t,e){let a="business"==e||"professional"==e?templateIconPremium():"";e="business"==e||"professional"==e?"pro":e;let n=`\n\t\t<ul class="header-link-webmely navbar-nav">\n\t\t\t<li class="nav-item">\n\t\t\t\t<a class="nav-link btn btn-link status-login" href="/account">\n\t\t\t\t\t<i class="fas fa-user mr-1 position-relative">\n\t\t\t\t\t\t${a}\n\t\t\t\t\t</i>\n\t\t\t\t\t${truncateString(t,20)} (${e})\n\t\t\t\t\t\n\t\t\t\t</a>\n\t\t\t\t<ul class="sub-menu bg-white shadow">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a class="nav-link editButtonLink" href="/account" target="_blank">T\xe0i kho\u1ea3n</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a class="nav-link editButtonLink" href="/logout">\u0110\u0103ng xu\u1ea5t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\t`;$(".login-wrap").html(n)}function checkLogin(){return $.ajax({url:"/account",dataType:"json"})}function selectStateByIp(t){$.ajax({url:"/get-location-with-ip.json",dataType:"json",success:function(e){let a=e.countryCode+"-"+e.region,n=t.find(`option[data-iso="${a}"]`).attr("value");n||(n=t.find("option:first-child").attr("value")),t.val(n).change()}})}function createOrderAfterSubmitForm(){var t=currentSubmitForm.find(".editFormNow").attr("data-id-pr");if(t){let e=new FormData;e.append("product_id",t),e.append("quantity",1),e.append("create_order_form",!0),$.ajax({url:"/orders/create_pre_order",method:"POST",dataType:"JSON",contentType:!1,processData:!1,data:e,success:function(t){t.data_ga&&"function"==typeof ga&&(t.data_ga.line_items.forEach(t=>{ga("ec:addProduct",t)}),ga("ec:setAction","purchase",t.data_ga.purchase),ga("send","event","UX","click","purchase")),openLinkOrPopupAfterSubmitForm()}})}else openLinkOrPopupAfterSubmitForm()}function openLinkOrPopupAfterSubmitForm(){var t=currentSubmitForm.find(".editFormNow").attr("data-url"),e=currentSubmitForm.find(".editFormNow").attr("data-action");"popup"==e?$(t).modal("show"):"none"!=e&&e?window.location.href=t:(toastr.clear(),toastr.success("Ch\xfang t\xf4i s\u1ebd li\xean h\u1ec7 v\u1edbi b\u1ea1n s\u1edbm nh\u1ea5t!","C\u1ea3m \u01a1n b\u1ea1n \u0111\xe3 \u0111\u1ec3 l\u1ea1i th\xf4ng tin.",{timeOut:5e3,progressBar:!0})),removeLoadingButton()}function removeLoadingButton(){$("button").removeClass("loadding-add-cart"),$("body").css("pointer-events","all")}!function(t,e){if("function"==typeof define&&define.amd)define(["module","exports"],e);else if("undefined"!=typeof exports)e(module,exports);else{var a={exports:{}};e(a,a.exports),t.WOW=a.exports}}(this,function(t,e){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){return e.indexOf(t)>=0}function i(t,e){for(var a in e)if(null==t[a]){var n=e[a];t[a]=n}return t}function o(t){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)}function r(t){var e=!(arguments.length<=1||arguments[1]===undefined)&&arguments[1],a=!(arguments.length<=2||arguments[2]===undefined)&&arguments[2],n=arguments.length<=3||arguments[3]===undefined?null:arguments[3],i=void 0;return null!=document.createEvent?(i=document.createEvent("CustomEvent")).initCustomEvent(t,e,a,n):null!=document.createEventObject?(i=document.createEventObject()).eventType=t:i.eventName=t,i}function s(t,e){null!=t.dispatchEvent?t.dispatchEvent(e):e in(null!=t)?t[e]():"on"+e in(null!=t)&&t["on"+e]()}function l(t,e,a){null!=t.addEventListener?t.addEventListener(e,a,!1):null!=t.attachEvent?t.attachEvent("on"+e,a):t[e]=a}function c(t,e,a){null!=t.removeEventListener?t.removeEventListener(e,a,!1):null!=t.detachEvent?t.detachEvent("on"+e,a):delete t[e]}function d(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight}var u,m;Object.defineProperty(e,"__esModule",{value:!0});var p=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),f=window.WeakMap||window.MozWeakMap||function(){function t(){a(this,t),this.keys=[],this.values=[]}return p(t,[{key:"get",value:function(t){for(var e=0;e<this.keys.length;e++){if(this.keys[e]===t)return this.values[e]}return undefined}},{key:"set",value:function(t,e){for(var a=0;a<this.keys.length;a++){if(this.keys[a]===t)return this.values[a]=e,this}return this.keys.push(t),this.values.push(e),this}}]),t}(),h=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver||(m=u=function(){function t(){a(this,t),"undefined"!=typeof console&&null!==console&&(console.warn("MutationObserver is not supported by your browser."),console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content."))}return p(t,[{key:"observe",value:function(){}}]),t}(),u.notSupported=!0,m),g=window.getComputedStyle||function(t){var e=/(\-([a-z]){1})/g;return{getPropertyValue:function(a){"float"===a&&(a="styleFloat"),e.test(a)&&a.replace(e,function(t,e){return e.toUpperCase()});var n=t.currentStyle;return(null!=n?n[a]:void 0)||null}}},w=function(){function t(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];a(this,t),this.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null,scrollContainer:null,resetAnimation:!0},this.animate="requestAnimationFrame"in window?function(t){return window.requestAnimationFrame(t)}:function(t){return t()},this.vendors=["moz","webkit"],this.start=this.start.bind(this),this.resetAnimation=this.resetAnimation.bind(this),this.scrollHandler=this.scrollHandler.bind(this),this.scrollCallback=this.scrollCallback.bind(this),this.scrolled=!0,this.config=i(e,this.defaults),null!=e.scrollContainer&&(this.config.scrollContainer=document.querySelector(e.scrollContainer)),this.animationNameCache=new f,this.wowEvent=r(this.config.boxClass)}return p(t,[{key:"init",value:function(){this.element=window.document.documentElement,n(document.readyState,["interactive","complete"])?this.start():l(document,"DOMContentLoaded",this.start),this.finished=[]}},{key:"start",value:function(){var t=this;if(this.stopped=!1,this.boxes=[].slice.call(this.element.querySelectorAll("."+this.config.boxClass)),this.all=this.boxes.slice(0),this.boxes.length)if(this.disabled())this.resetStyle();else for(var e=0;e<this.boxes.length;e++){var a=this.boxes[e];this.applyStyle(a,!0)}(this.disabled()||(l(this.config.scrollContainer||window,"scroll",this.scrollHandler),l(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live)&&new h(function(e){for(var a=0;a<e.length;a++)for(var n=e[a],i=0;i<n.addedNodes.length;i++){var o=n.addedNodes[i];t.doSync(o)}return undefined}).observe(document.body,{childList:!0,subtree:!0})}},{key:"stop",value:function(){this.stopped=!0,c(this.config.scrollContainer||window,"scroll",this.scrollHandler),c(window,"resize",this.scrollHandler),null!=this.interval&&clearInterval(this.interval)}},{key:"sync",value:function(){h.notSupported&&this.doSync(this.element)}},{key:"doSync",value:function(t){if(null==t&&(t=this.element),1===t.nodeType)for(var e=(t=t.parentNode||t).querySelectorAll("."+this.config.boxClass),a=0;a<e.length;a++){var i=e[a];n(i,this.all)||(this.boxes.push(i),this.all.push(i),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(i,!0),this.scrolled=!0)}}},{key:"show",value:function(t){return this.applyStyle(t),t.className=t.className+" "+this.config.animateClass,
null!=this.config.callback&&this.config.callback(t),s(t,this.wowEvent),this.config.resetAnimation&&(l(t,"animationend",this.resetAnimation),l(t,"oanimationend",this.resetAnimation),l(t,"webkitAnimationEnd",this.resetAnimation),l(t,"MSAnimationEnd",this.resetAnimation)),t}},{key:"applyStyle",value:function(t,e){var a=this,n=t.getAttribute("data-wow-duration"),i=t.getAttribute("data-wow-delay"),o=t.getAttribute("data-wow-iteration");return this.animate(function(){return a.customStyle(t,e,n,i,o)})}},{key:"resetStyle",value:function(){for(var t=0;t<this.boxes.length;t++){this.boxes[t].style.visibility="visible"}return undefined}},{key:"resetAnimation",value:function(t){if(t.type.toLowerCase().indexOf("animationend")>=0){var e=t.target||t.srcElement;e.className=e.className.replace(this.config.animateClass,"").trim()}}},{key:"customStyle",value:function(t,e,a,n,i){return e&&this.cacheAnimationName(t),t.style.visibility=e?"hidden":"visible",a&&this.vendorSet(t.style,{animationDuration:a}),n&&this.vendorSet(t.style,{animationDelay:n}),i&&this.vendorSet(t.style,{animationIterationCount:i}),this.vendorSet(t.style,{animationName:e?"none":this.cachedAnimationName(t)}),t}},{key:"vendorSet",value:function(t,e){for(var a in e)if(e.hasOwnProperty(a)){var n=e[a];t[""+a]=n;for(var i=0;i<this.vendors.length;i++){t[""+this.vendors[i]+a.charAt(0).toUpperCase()+a.substr(1)]=n}}}},{key:"vendorCSS",value:function(t,e){for(var a=g(t),n=a.getPropertyCSSValue(e),i=0;i<this.vendors.length;i++){var o=this.vendors[i];n=n||a.getPropertyCSSValue("-"+o+"-"+e)}return n}},{key:"animationName",value:function(t){var e=void 0;try{e=this.vendorCSS(t,"animation-name").cssText}catch(a){e=g(t).getPropertyValue("animation-name")}return"none"===e?"":e}},{key:"cacheAnimationName",value:function(t){return this.animationNameCache.set(t,this.animationName(t))}},{key:"cachedAnimationName",value:function(t){return this.animationNameCache.get(t)}},{key:"scrollHandler",value:function(){this.scrolled=!0}},{key:"scrollCallback",value:function(){if(this.scrolled){this.scrolled=!1;for(var t=[],e=0;e<this.boxes.length;e++){var a=this.boxes[e];if(a){if(this.isVisible(a)){this.show(a);continue}t.push(a)}}this.boxes=t,this.boxes.length||this.config.live||this.stop()}}},{key:"offsetTop",value:function(t){for(;t.offsetTop===undefined;)t=t.parentNode;for(var e=t.offsetTop;t.offsetParent;)e+=(t=t.offsetParent).offsetTop;return e}},{key:"isVisible",value:function(t){var e=t.getAttribute("data-wow-offset")||this.config.offset,a=this.config.scrollContainer&&this.config.scrollContainer.scrollTop||window.pageYOffset,n=a+Math.min(this.element.clientHeight,d())-e,i=this.offsetTop(t),o=i+t.clientHeight;return i<=n&&o>=a}},{key:"disabled",value:function(){return!this.config.mobile&&o(navigator.userAgent)}}]),t}();e["default"]=w,t.exports=e["default"]}),$.fn.isInViewport=function(){var t=$(this).offset().top,e=t+$(this).outerHeight(),a=$(window).scrollTop(),n=a+$(window).height();return e>a&&t<n};const formatCash=t=>t<1e8?t:t>=1e8&&t<1e9?+t/1e6+" tri\u1ec7u":t>=1e9?+t/1e9+" t\u1ef7":void 0;var cartCloneNow,firstClickShowCart=!0;$(".cart-wrap").length&&(cartCloneNow=$(".cart-wrap .cart-list ul li:first-child").eq(0).clone(),$(".cart-wrap .cart-value").text(formatPrice(order_now.total,public_curency)),$(".cart-wrap .cart-quantity").text(order_now.quantity),$(".cart-wrap .cart-list ul").html("")),$(document).on("click",".cart-wrap",function(t){return firstClickShowCart?(reloadCartNow(!0),firstClickShowCart=!1):($(".cart-wrap .cart-list").addClass("active"),$("body").addClass("w-show-menu-mobile")),!(!$(t.target).closest("a").length&&!$(t.target).is("a"))}),$(document).on("click",".cart-wrap .hide-cart",function(){return $(".cart-wrap .cart-list").removeClass("active"),$("body").removeClass("w-show-menu-mobile"),!1});var obProduct=new IntersectionObserver(function(t){$.each(t,function(t,e){e.isIntersecting&&!$(e.target).hasClass("is-inviewport")&&(loadProduct($(e.target),!1,1),$(e.target).addClass("is-inviewport"))})},{rootMargin:"0px 0px 600px 0px"});$(".block-filter").each(function(t,e){obProduct.observe(e)}),$(document).on("click",".allow-quick-review",function(){if($(".modalQuickViewProduct").length){$(".applyForAllProductItem.currentView").removeClass("currentView"),$(this).find(".applyForAllProductItem").addClass("currentView"),$(".block-filter.currentBlockQuickView").removeClass("currentBlockQuickView"),$(this).closest(".block-filter").addClass("currentBlockQuickView");var t=$(this).closest(".w-filter-item"),e=t.find(".webmely-image-product").eq(0).attr("src");$("#imageQuickViewProduct").attr("data-src",e).attr("src",e),$("#linkToShop").attr("href",t.attr("data-slug")),$(".descriptionQuickViewProduct").text(t.attr("data-des")),$("#nameQuickViewProduct").text(t.attr("data-name")),$(".modalQuickViewProduct").modal("show")}}),$(document).on("click",".applyForAllProductItem",function(t){if($(".modalQuickViewProduct").length){t.stopPropagation(),$(".applyForAllProductItem.currentView").removeClass("currentView"),$(this).addClass("currentView"),$(".block-filter.currentBlockQuickView").removeClass("currentBlockQuickView"),$(this).closest(".block-filter").addClass("currentBlockQuickView");var e=$(this).closest(".w-filter-item"),a=e.find(".webmely-image-product").eq(0).attr("src");$("#imageQuickViewProduct").attr("data-src",a).attr("src",a),$("#linkToShop").attr("href",e.attr("data-slug")),$(".descriptionQuickViewProduct").text(e.attr("data-des")),$("#nameQuickViewProduct").text(e.attr("data-name"))}}),$(document).on("click",".icon-action-view-product",function(){var t;if($(this).is("#nextProduct"))if($(".currentBlockQuickView").attr("data-option").includes("slider"))if(null!=(t=$(".currentBlockQuickView .applyForAllProductItem.currentView").closest(".slick-slide")).next(".slick-slide")[0])var e=t.next(".slick-slide");else e=$(".currentBlockQuickView .slick-slide").first();else if(null!=(t=$(".currentBlockQuickView .applyForAllProductItem.currentView").closest(".w-filter-item")).next(".w-filter-item")[0])e=t.next(".w-filter-item");else e=$(".currentBlockQuickView .w-filter-item").first();else if($(".currentBlockQuickView").attr("data-option").includes("slider"))if(null!=(t=$(".currentBlockQuickView .applyForAllProductItem.currentView").closest(".slick-slide")).prev(".slick-slide")[0])e=t.prev(".slick-slide");else e=$(".currentBlockQuickView .slick-slide").last();else if(null!=(t=$(".currentBlockQuickView .applyForAllProductItem.currentView").closest(".w-filter-item")).prev(".w-filter-item")[0])e=t.prev(".w-filter-item");else e=$(".currentBlockQuickView .w-filter-item").last();var a=e.find(".webmely-image-product").eq(0).attr("src");$("#imageQuickViewProduct").attr("data-src",a).attr("src",a),$("#linkToShop").attr("href",e.attr("data-slug")),$(".descriptionQuickViewProduct").text(e.attr("data-des")),$("#nameQuickViewProduct").text(e.attr("data-name")),$(".applyForAllProductItem.currentView").removeClass("currentView"),e.find(".applyForAllProductItem").addClass("currentView")}),$(".w-filter-advanced").each(function(){initFilterAdvancedW(this)}),$(window).width()<992&&($(".show-filter-advanced").click(function(){$(this).closest("section").find(".w-filter-advanced").addClass("active")}),$(".close-filter-advanced").click(function(){$(".w-filter-advanced").removeClass("active")}));var status_get_slick=!0,elReviewItem=$(".wsp-wrapper-item-review .review-item").eq(0).clone(),indexOfLastItemReview=0,obElement=new IntersectionObserver(function(t){$.each(t,function(t,e){if(e.isIntersecting&&!$(e.target).hasClass("is-inviewport")){var a=$(e.target);if(a.is("img[data-src]"))lazyImg(a);else if(a.is("iframe.webmely-map-iframe-lazy"))a.attr("src",a.attr("data-src"));else if(a.is(".demo-bg-qc"))a.css("background-image",a.attr("data-background"));else if(a.is("iframe.webmely-video-iframe-lazy")){if(0==a.closest(".modal").length){var n=a.attr("data-src");a.attr("src",n)}}else a.is(".blog-block--flex")?processBlog(a,1,!0):a.is(".wsp-wrapper-item-review")?processReview(1,!0):a.is(".w-dynamic-description")?dynamicDescription():a.is(".w-dynamic-title")&&dynamicTitle();a.addClass("is-inviewport")}})},{rootMargin:"0px 0px 300px 0px"});$("img[data-src]:not(.webmely-image-product), iframe.webmely-map-iframe-lazy, .demo-bg-qc, iframe.webmely-video-iframe-lazy, .blog-block--flex, .wsp-wrapper-item-review, .w-dynamic-description, .w-dynamic-title").each(function(t,e){obElement.observe(e)}),$.fn.jQuerySimpleCounter=function(t){var e=$(this);$({count:0}).animate({count:t.end},{duration:t.duration,easing:"swing",step:function(){var t=Math.ceil(this.count);e.text(t)}})};var obCounter=new IntersectionObserver(function(t){$.each(t,function(t,e){if(e.isIntersecting&&!$(e.target).hasClass("is-inviewport")){let t=$(e.target),a=parseInt(t.text()),n=parseInt(t.attr("data-duration"));t.jQuerySimpleCounter({end:a,duration:n}),t.addClass("is-inviewport")}})},{rootMargin:"0px 0px 0px 0px",threshold:1});$(".increaseNumberElement").each(function(t,e){obCounter.observe(e)}),$(document).on("click",".slide-control-next",function(){let t=$(this).closest(".editSlideElement");setTimeout(()=>{webmelySimpleSlide(t)},0)}),$(document).on("click",".slide-control-prev",function(){let t=$(this).closest(".editSlideElement");setTimeout(()=>{webmelySimpleSlide(t,-1)},0)}),setInterval(()=>{$(".editSlideElement").each(function(){$(this).is(":hover")||$(this).hasClass("disable-auto")||webmelySimpleSlide($(this))})},5e3);var currentSubmitForm,start=new Date;$(document).on("click","button , a",function(){if(target=$(this)[0].nodeName,state="click","INPUT"!=target){let t=$(this).text().trim();0===t.length&&(t=$(this).attr("href")),target=target+" "+t}$.ajax({type:"POST",url:"/tracking_lead_static_page",dataType:"json",data:{url:window.location.pathname,store:window.location.hostname,state:state,target:target,authenticity_token:$("meta[name='csrf-token']").attr("content")}})}),setTimeout(function(){$.ajax({type:"POST",url:"/count_view",dataType:"json",data:{url:window.location.pathname,store:window.location.hostname,type:"normal",authenticity_token:$("meta[name='csrf-token']").attr("content")},success:function(){}}),$(window).on("unload",function(){var t=new Date-start;$.ajax({type:"POST",url:"/count_view",dataType:"json",data:{url:window.location.pathname,store:window.location.hostname,time_view:t,authenticity_token:$("meta[name='csrf-token']").attr("content")},success:function(){console.log("count_view")}})}),$(window).on("beforeunload",function(){var t=new Date-start;$.ajax({type:"POST",url:"/count_view",dataType:"json",data:{url:window.location.pathname,store:window.location.hostname,time_view:t,authenticity_token:$("meta[name='csrf-token']").attr("content")},success:function(){console.log("count_view_static")}})})},3e3),$("form.product-search-advanced").on("submit",function(){var t=$(".w-search-name >input").val();t.length>0&&$.ajax({type:"POST",url:"/tracking_lead_static_page",dataType:"json",data:{url:window.location.pathname,store:window.location.hostname,state:"search",target:t,authenticity_token:$("meta[name='csrf-token']").attr("content")}})});{let t=$(".webmely-block-image-product");if(t.length&&$(window).width()>768)if(t.hasClass("zoom-in-modal")){var currentZoomImgProduct;t.addClass("allow-show-full-image"),$(document).on("click",".allow-show-full-image .webmely-block-img-product img",function(){let t=$(".webmely-block-thumbnail-product img.active");t.next().length||t.prev().length?$("#modalViewFullImageProduct .control-zoom-product").removeClass("d-none"):$("#modalViewFullImageProduct .control-zoom-product").addClass("d-none"),currentZoomImgProduct=t;var e=t.attr("src");$("#modalViewFullImageProduct .zoom-product-image img").attr("src",e).addClass("img-fluid"),$("#modalViewFullImageProduct").modal("show")}),$(document).on("click",".control-zoom-product .prev-image",function(){if(currentZoomImgProduct.prev().length){var t=currentZoomImgProduct.prev().attr("src");currentZoomImgProduct=currentZoomImgProduct.prev()}else{t=currentZoomImgProduct.parent().find("img:last-child").attr("src");currentZoomImgProduct=currentZoomImgProduct.parent().find("img:last-child")}$("#modalViewFullImageProduct .zoom-product-image img").attr("src",t).addClass("img-fluid")}),$(document).on("click",".control-zoom-product .next-image",function(){if(currentZoomImgProduct.next().length){var t=currentZoomImgProduct.next().attr("src");currentZoomImgProduct=currentZoomImgProduct.next()}else{t=currentZoomImgProduct.parent().find("img:first-child").attr("src");currentZoomImgProduct=currentZoomImgProduct.parent().find("img:first-child")}$("#modalViewFullImageProduct .zoom-product-image img").attr("src",t).addClass("img-fluid")})}else{function zoomImageProduct(){"function"!=typeof $.fn.zoom||$(".webmely-block-img-product").hasClass("done-zoom")?(getLibraryZoomImage(),setTimeout(()=>{zoomImageProduct()},300)):$(".webmely-block-img-product").zoom({url:productObject.images[0].replace("/product/","/content/")})}function getLibraryZoomImage(){let t="/resource-builder/javascripts/zoom_image_library.js";if(0==$("script[src='"+t+"']").length){var e=document.createElement("script");e.type="text/javascript",e.src=t,$("body").append(e)}}$("body").one("mouseenter.oneEnter",".webmely-block-image-product",function(){$(".webmely-block-thumbnail-product").length>0&&zoomImageProduct()})}}if($(document).on("click","#wsp-scroll-reviews",function(t){t.preventDefault(),$("html, body").animate({scrollTop:$("#wsp-form-new-review").offset().top},1e3)}),$("#wsp-form-new-review").on("submit",function(){$(this).find('button[type="submit"]').addClass("loadding-add-cart")}),$(document).on("click",".webmely-minus-product",function(){let t=$(this).closest("div").find(".webmely-quantity-product");var e=parseInt(t.attr("step"));e||(e=1);var a=parseInt(t.val(),10);(a=isNaN(a)?0:a)<1&&(a=1),a>e&&(a-=e,t.val(a).change())}),$(document).on("click",".webmely-plus-product",function(){let t=$(this).closest("div").find(".webmely-quantity-product");var e=parseInt(t.attr("step"));e||(e=1);var a=parseInt(t.val(),10);a=isNaN(a)?0:a,a+=e,t.val(a).change()}),$(document).on("change",'.w-variant-wrapper input[type="radio"]',function(){valuePrice=$('.w-variant-wrapper input[type="radio"]:checked').attr("data-price"),$(".w-price-onchange").text(valuePrice),$(".id-product-lead-care").val($(".w-variant-wrapper input:checked").val()),$("#webmely-add-cart-product, .wsp-buynow button .spree-add-to-cart").attr("data-price",$(this).attr("data-price-1")).attr("data-variant-id",$(this).attr("value"))}),$(window).width()<992&&$(document).on("click",'.spree-add-to-cart[type="submit"]',function(t){let e=$(this),a=$(this).closest(".popup-add-product");if(!a.hasClass("on-buy-now"))return t.preventDefault(),a.addClass("on-buy-now"),setTimeout(()=>{e.removeClass("loadding-add-cart")}),!1}),$(document).on("click","#webmely-add-cart-product",function(){if($(window).width()<992){let t=$(this).closest(".popup-add-product");if(!t.hasClass("on-add-cart"))return t.addClass("on-add-cart"),!1}$(this).addClass("loadding-add-cart");var t=$(".webmely-quantity-product").val();if(isNaN(t)||t<1)return toastr.warning("S\u1ed1 l\u01b0\u1ee3ng kh\xf4ng \u0111\xfang!",":)",{timeOut:5e3,progressBar:!0}),!1;var e=$(this).closest("form");$.ajax({type:"POST",url:e.attr("action"),dataType:"json",data:e.serialize(),success:function(t){t&&$(".cart-wrap".length)&&reloadCartNow(!0)}})}),$(document).on("click",".wsp-buynow button",function(){$(this).addClass("loadding-add-cart")}),$(window).width()>768&&$(".webmely-block-thumbnail-product").length&&$(document).on("click",".webmely-block-thumbnail-product img",function(t){t.stopPropagation(),$(this).parent().find(".active").removeClass("active"),$(this).addClass("active");let e=$(this).attr("src"),a=e.replace("/small/","/large/"),n=e.replace("/small/","/original/");$(".webmely-block-img-product img:first-child").attr("src",a).attr("data-src",a),0==$(".webmely-block-img-product").closest("zoom-in-modal").length&&$(".webmely-block-img-product").trigger("zoom.destroy").zoom({url:n})}),$("lottie-player").length){let t="/resource-builder/javascripts/lotie_player.js";if(0==$("script[src='"+t+"']").length){var s=document.createElement("script");s.type="text/javascript",s.src=t,$("body").append(s)}}let time_out_search_keyword;$(function(){if($(".login-wrap").length&&handleLogin(),$(".editSlideResponsive .changed-list").each(function(){$(this).slick({infinite:!0,slidesToShow:1,autoplay:!0,autoplaySpeed:3e3})}),$(".modal").each(function(t,e){"true"==$(e).attr("data-auto")&&(time=$(e).attr("data-time"),setTimeout(function(){$(e).modal("show")},time))}),$("form:not(.product-search-advanced):not(.not-use-ajax)").on("submit.webmely",function(e){e.preventDefault(),el=$(this),currentSubmitForm=el,el.find("button").addClass("loadding-add-cart");var a=$(this).attr("action"),n=new FormData(this);n.append("url",window.location.href),$.ajax({url:a,type:"POST",data:n,dataType:"script",contentType:!1,processData:!1,error:function(){toastr.clear(),toastr.error(t.form_default_error,":(",{timeOut:5e3,progressBar:!0}),el.find("button").removeClass("loadding-add-cart")}})}),$(".webmely-authenticity").val($("meta[name='csrf-token']").attr("content")),$("#add-product-now").attr("value")||$("#add-product-now").closest(".w-cart-show-add").addClass("d-none"),$(document).on("click",'[data-event="goToUrl"]',function(){if($(this).is("a"))return;let t=$(this).attr("data-link");"true"==$(this).attr("data-new-tab")?Object.assign(document.createElement("a"),{target:"_blank",href:t}).click():Object.assign(document.createElement("a"),{target:"_self",href:t}).click()}),$(document).on("click",'[data-event="phone"], [data-event="mail"]',function(){if($(this).is("a"))return;let t=$(this).attr("data-link");Object.assign(document.createElement("a"),{target:"_self",href:t}).click()}),$(document).on("click",'[data-event="goToBlock"]',function(){if($(this).is("a"))return;let t=$(this).attr("data-link"),e=document.querySelector(t);e&&e.scrollIntoView()}),$(document).on("click",".changed-list-item[data-link]",function(){let t=$(this).attr("data-link");Object.assign(document.createElement("a"),{target:"_self",href:t}).click()}),$(document).on("click",'[data-event="openPopup"]',function(t){t.preventDefault();let e=$(this).attr("data-link");$(e).modal("show")}),$('input[type="datetime-local"]').length){let t=new Date;t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),$('input[type="datetime-local"]').val(t.toISOString().slice(0,16))}let e=document.createElement("script");if(e.type="text/javascript",e.src="/resource-builder/javascripts/clean_js.js?123",$("body").append(e),$(".custom-product-area").length){let t=document.createElement("script");t.type="text/javascript",t.src=link_script_custom_product,$("body").append(t)}if($(".editCountDown").length){let t=document.createElement("script");t.type="text/javascript",t.src=link_script_custom_count_down,$("body").append(t)}if($(".editLuckyWheel").length){let t=document.createElement("script");t.type="text/javascript",t.src=link_script_lucky_wheel,$("body").append(t)}if($(window).width()<992){$(".bg-like-image[data-d-w]").each(function(){let t=parseInt($(this).attr("data-d-w"))/parseInt($(this).attr("data-d-h")),e=$(this).width()/t;$(this).css({height:e})}),$(document).on("click",".close-add-product",function(){$(".popup-add-product").removeClass("on-add-cart").removeClass("on-buy-now")})}else(new WOW).init();setTimeout(()=>{$(".block-tool").each(function(){let t=$(this),e=t.attr("data-css"),a=t.attr("data-js");$("head").append(`<link rel="stylesheet" type="text/css" href="${e}">`),$("body").append(`<script src="${a}"></script>`),$(".choose-image").attr("src",logo_link).attr("data-src",logo_link),setTimeout(function(){t.removeClass("webmely-animation-loadding-in")},700)})},500),setTimeout(()=>{if($(".editFacebookChat").length&&(window.fbAsyncInit=function(){FB.init({xfbml:!0,version:"v8.0"})},function(t,e,a){var n,i=t.getElementsByTagName(e)[0];t.getElementById(a)||((n=t.createElement(e)).id=a,n.src="https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js",i.parentNode.insertBefore(n,i))}(document,"script","facebook-jssdk")),$(".editZaloChat").length){let t=document.createElement("script");t.type="text/javascript",t.src=link_script_zalo,$("body").append(t)}},3e3),$(".show-action-admin-fe").click(function(){$(this).toggleClass("active")})}),$(document).on("show.bs.modal",".modal",function(){var t=$(this).find("iframe.webmely-video-iframe-lazy");if(t.length){var e=t.attr("data-src");t.attr("src",e)}}),$(".modal").on("hide.bs.modal",function(){$(this).find("iframe").attr("src",$(this).find("iframe").attr("src")),$(this).find("form").length&&$(this).find("form input").each(function(){$(this).val("")})}),$(document).on("click",".btn-add-combo-to-cart",function(){_this=this,$(this).addClass("loadding-add-cart");var t=$(this).closest(".webmely-block-combo-product").attr("data-combo"),e=[];$(this).closest(".combo-product-block").find(".product-item").each(function(){e.push(parseInt($(this).attr("data-variant-id")))}),$.ajax({url:"/orders/populate",method:"POST",data:{combo_id:t,combo_variant_ids:e},success:function(){$(_this).removeClass("loadding-add-cart"),reloadCartNow(!0)}})}),0!=$('select[name="lead[country]"]').length?($.ajax({url:"/api/states/get_all_country",method:"GET",contentType:"JSON",success:function(t){t.countries.forEach(function(t){$('select[name="lead[country]"]').append("<option data-iso='"+t.iso+"' value="+t.id+">"+t.name+"</option>")}),$('select[name="lead[country]"]').val(84).change()},error:function(t){console.log(t)}}),$(document).on("change",'select[name="lead[country]"]',function(){var t=this,e=$(this).find("option:selected").attr("data-iso");0!=$(this).closest("form").find('select[name="lead[state]"]').length&&$.ajax({type:"GET",url:"/api/states/get_state_by_country",contentType:"JSON",data:{iso:e},error:function(){},success:function(e){$(t).closest("form").find('select[name="lead[state]"]').html(""),$(t).closest("form").find('select[name="lead[district]"]').html(""),e.states.forEach(function(e,a){$('select[name="lead[state]"]').append("<option value="+e.id+">"+e.name+"</option>"),0==a&&$(t).closest("form").find('select[name="lead[state]"]').val(parseInt(e.id)).trigger("change")})}})})):0!=$('select[name="lead[state]"]').length&&$.ajax({type:"GET",url:"/api/states/get_state_by_country",contentType:"JSON",data:{iso:"VN"},error:function(){},success:function(t){$('select[name="lead[state]"]').html(""),$('select[name="lead[district]"]').html(""),t.states.forEach(function(t){$('select[name="lead[state]"]').append("<option data-iso="+t.iso_code+" value="+t.id+">"+t.name+"</option>")}),selectStateByIp($('select[name="lead[state]"]'))}}),$(document).on("change",'select[name="lead[state]"]',function(){var t=$(this).val();0!=$(this).closest("form").find('select[name="lead[district]"]').length&&$.ajax({type:"GET",url:"/api/states/get_all_district_by_state",contentType:"JSON",data:{state_id:t},error:function(){},success:function(t){$('select[name="lead[district]"]').html(""),t.districts.forEach(function(t){$('select[name="lead[district]"]').append("<option value="+t.id+">"+t.name+"</option>")})}})}),$(".w-search:not(.no-auto-complete) input").on("focus",function(){$(this).attr("autocomplete","off"),0==$(this).closest(".editFormSearch, .wrapper-collection").find("#searchResult").length?($(this).closest(".editFormSearch, .wrapper-collection").append('<div id="searchResult"></div>'),keywords="",$.ajax({type:"GET",url:"/store/get_keywords",dataType:"json",data:{search_value:""},success:function(t){t.keywords&&(t.keywords.forEach(function(t){keywords+=format_keyword(t)}),$("#searchResult").append(keywords))}})):$("#searchResult").show()}),$(".w-search input").on("keyup",function(){let t=$(this).val().toLowerCase(),e="";clearTimeout(time_out_search_keyword),time_out_search_keyword=setTimeout(()=>{$.ajax({type:"GET",url:"/store/get_keywords",dataType:"json",data:{search_value:t},success:function(t){$("#searchResult").html(""),t.keywords&&(t.keywords.forEach(function(t){e+=format_keyword(t)}),$("#searchResult").append(e))}})},400)}),$(document).on("click","html, body",function(t){0==$(t.target).closest("#searchResult").length&&$("#searchResult").hide()}),$("#searchResult, .w-search input").click(function(t){t.stopPropagation()}),$(document).on("click",".search-action",function(){value=$(this).attr("data-keyword"),_form=$(this).closest("form"),$(_form).find(".w-search input").val(value),$(_form).submit()});var page_translation={status_payment:{"true":"\u0110\xe3 thanh to\xe1n","false":"Ch\u01b0a thanh to\xe1n"},type_payment:{transfer_method:"Chuy\u1ec3n kho\u1ea3n ng\xe2n h\xe0ng",check_method:"Thanh to\xe1n khi nh\u1eadn h\xe0ng",stripe_method:"Thanh to\xe1n qua stripe",stripe_method:"Thanh to\xe1n qua paypal"},shipping:"V\u1eadn chuy\u1ec3n"};$(document).ready(function(){var t=location.search.substring(1);-1!=t.indexOf("translations_name_cont")&&(value=parseUrltoJson(t),string=value["q%5Btranslations_name_cont%5D"].split("+").join(" "),$('input[name="q[translations_name_cont]"]').val(string))});